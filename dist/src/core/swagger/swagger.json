{
    "openapi": "3.0.0",
    "info": {
        "title": "CXplorers",
        "description": "Endpoints",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://cxplorers-app.up.railway.app/"
        }
    ],
    "paths": {
        "/users/secure/resource": {
            "get": {
                "tags": [
                    "Users"
                ],
                "description": "Get current user",
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/secure/account": {
            "put": {
                "tags": [
                    "Users"
                ],
                "description": "update user account details, if updating password the users current password must be provided",
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/updateUser"
                            }
                        }
                    }
                }
            }
        },
        "/users/secure/delete": {
            "delete": {
                "tags": [
                    "Users"
                ],
                "description": "Delete current user",
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/users/verified/create": {
            "post": {
                "tags": [
                    "Users"
                ],
                "description": "create user user. must enter the code from thier email",
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/createUser"
                            }
                        }
                    }
                }
            }
        },
        "/users/verified/account/{userId}": {
            "put": {
                "tags": [
                    "Users"
                ],
                "description": "update user account details with verification code. user must enter the code from thier email",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/verifiedUpdateUser"
                            }
                        }
                    }
                }
            }
        },
        "/users/login": {
            "post": {
                "tags": [
                    "Users"
                ],
                "description": "user login",
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/users/account-recovery": {
            "post": {
                "tags": [
                    "Users"
                ],
                "description": "Send account recovery will return a token, email contains a code that the user needs to input for the next request",
                "responses": {
                    "default": {
                        "description": ""
                    }
                },
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/accountRecovery"
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "apiKey",
                "name": "Authorization",
                "in": "header",
                "description": "Enter JWT token with **Bearer** prefix. Example: \"Bearer {token}\""
            }
        },
        "schemas": {
            "createUser": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "example": "email"
                    },
                    "password": {
                        "type": "string",
                        "example": "password"
                    },
                    "name": {
                        "type": "string",
                        "example": "name"
                    },
                    "phone": {
                        "type": "string",
                        "example": "phone number"
                    },
                    "code": {
                        "type": "string",
                        "example": "code from users email"
                    }
                }
            },
            "updateUser": {
                "type": "object",
                "properties": {
                    "phone": {
                        "type": "string",
                        "example": "phone"
                    },
                    "name": {
                        "type": "string",
                        "example": "name"
                    },
                    "password": {
                        "type": "string",
                        "example": "new passoword"
                    },
                    "oldPassword": {
                        "type": "string",
                        "example": "old password"
                    }
                }
            },
            "verifiedUpdateUser": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "example": "new email"
                    },
                    "password": {
                        "type": "string",
                        "example": " new password"
                    },
                    "code": {
                        "type": "string",
                        "example": "code from users email"
                    }
                }
            },
            "accountRecovery": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "example": "email"
                    }
                }
            }
        }
    }
}
